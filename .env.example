# =====================================================
# ARCHIVO DE VARIABLES DE ENTORNO - HAAS+ MULTI-AGENT PLATFORM
# Copia este archivo como .env y configura tus valores
# Autor: MiniMax Agent
# Fecha: 08-Nov-2025
# =====================================================

# =====================================================
# CONFIGURACIÓN DE BASE DE DATOS
# =====================================================

# PostgreSQL
POSTGRES_DB=haasdb
POSTGRES_USER=haas
POSTGRES_PASSWORD=haaspass-cambiar-en-produccion
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql://haas:haaspass@postgres:5432/haasdb

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=haaspass-cambiar-en-produccion
REDIS_URL=redis://:haaspass@redis:6379

# Neo4j
NEO4J_HOST=neo4j
NEO4J_PORT=7474
NEO4J_BOLT_PORT=7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=haaspass-cambiar-en-produccion

# RabbitMQ
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=haas
RABBITMQ_PASSWORD=haaspass-cambiar-en-produccion
RABBITMQ_MANAGEMENT_PORT=15672

# =====================================================
# CONFIGURACIÓN DE SEGURIDAD
# =====================================================

# JWT Secret Key (¡CAMBIAR EN PRODUCCIÓN!)
JWT_SECRET_KEY=haas-super-secret-key-2025-cambiar-en-produccion-inmediatamente
JWT_ALGORITHM=HS256
JWT_EXPIRE_HOURS=24

# =====================================================
# CONFIGURACIÓN DE APIs DE IA (OPCIONAL)
# =====================================================

# OpenAI API Key (para Prompt Engineer)
OPENAI_API_KEY=tu_clave_openai_aqui
OPENAI_MODEL=gpt-4o
OPENAI_TIMEOUT=30

# Anthropic API Key (para Prompt Engineer)
ANTHROPIC_API_KEY=tu_clave_anthropic_aqui
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_TIMEOUT=30

# =====================================================
# CONFIGURACIÓN DE SERVICIOS
# =====================================================

# API Gateway
API_GATEWAY_HOST=0.0.0.0
API_GATEWAY_PORT=8000
ORCHESTRATOR_URL=http://orchestrator:8001
PLANNER_URL=http://planner:8002

# Orchestrator
ORCHESTRATOR_HOST=0.0.0.0
ORCHESTRATOR_PORT=8001
PROMPT_ENGINEER_URL=http://prompt-engineer:8003
API_GATEWAY_URL=http://api-gateway:8000

# Planner
PLANNER_HOST=0.0.0.0
PLANNER_PORT=8002
PLANNER_WORKERS=3

# Prompt Engineer
PROMPT_ENGINEER_HOST=0.0.0.0
PROMPT_ENGINEER_PORT=8003
PROMPT_ENGINEER_WORKERS=3

# =====================================================
# CONFIGURACIÓN DE EQUIPOS ESPECIALIZADOS
# =====================================================

# Vision Team
VISION_TEAM_URL=http://vision-team:8010
VISION_TEAM_WORKERS=5

# Design Team
DESIGN_TEAM_URL=http://design-team:8011
DESIGN_TEAM_WORKERS=3

# NWC Team (Workflow Automation)
NWC_TEAM_URL=http://nwc-team:8012
NWC_TEAM_WORKERS=4

# Medical Team
MEDICAL_TEAM_URL=http://medical-team:8013
MEDICAL_TEAM_WORKERS=2

# Marketing Team
MARKETING_TEAM_URL=http://marketing-team:8014
MARKETING_TEAM_WORKERS=3

# =====================================================
# CONFIGURACIÓN DE RATE LIMITING Y CUOTAS
# =====================================================

# Rate limiting por defecto
DEFAULT_RATE_LIMIT=1000
DEFAULT_QUOTA_REQUESTS_PER_HOUR=1000
DEFAULT_QUOTA_STORAGE_GB=10
DEFAULT_QUOTA_COMPUTE_UNITS=100

# Rate limiting para cada aplicación
IRIS_RATE_LIMIT=10000
SILHOUETTE_RATE_LIMIT=5000
NWC_RATE_LIMIT=15000
MEDLUXE_RATE_LIMIT=3000
BRANDISTRY_RATE_LIMIT=8000

# =====================================================
# CONFIGURACIÓN DE MONITORING
# =====================================================

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=200h

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=haaspass-cambiar-en-produccion

# =====================================================
# CONFIGURACIÓN DE LOGGING
# =====================================================

# Log levels
LOG_LEVEL=INFO
API_GATEWAY_LOG_LEVEL=INFO
ORCHESTRATOR_LOG_LEVEL=INFO
PLANNER_LOG_LEVEL=INFO
PROMPT_ENGINEER_LOG_LEVEL=INFO

# Log format
LOG_FORMAT=json
LOG_TIMESTAMP=true

# =====================================================
# CONFIGURACIÓN DE SSL/TLS (PRODUCCIÓN)
# =====================================================

# SSL Certificates (si se usa HTTPS)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem
SSL_ENABLED=false

# =====================================================
# CONFIGURACIÓN DE BACKUP
# =====================================================

# PostgreSQL Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=haas-backups

# Redis Backup
REDIS_SAVE_INTERVAL=900  # 15 minutes
REDIS_MAXMEMORY=1gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# =====================================================
# CONFIGURACIÓN DE DESARROLLO
# =====================================================

# Development settings
DEBUG=false
DEVELOPMENT_MODE=false
AUTO_RELOAD=true

# Testing
TEST_DATABASE_URL=postgresql://haas:haaspass@postgres:5432/haastest
TEST_TIMEOUT=30

# =====================================================
# CONFIGURACIÓN DE PERFORMANCE
# =====================================================

# Connection pools
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_POOL_TIMEOUT=60

# Redis configuration
REDIS_POOL_SIZE=10
REDIS_SOCKET_TIMEOUT=5
REDIS_RETRY_ON_TIMEOUT=true

# HTTP client settings
HTTP_TIMEOUT=30
HTTP_MAX_RETRIES=3
HTTP_RETRY_BACKOFF=0.1

# =====================================================
# CONFIGURACIÓN DE CACHING
# =====================================================

# Cache TTL by type
CACHE_TTL_SHORT=300    # 5 minutes
CACHE_TTL_MEDIUM=1800  # 30 minutes
CACHE_TTL_LONG=3600    # 1 hour
CACHE_TTL_DAILY=86400  # 24 hours

# Cache keys prefix
CACHE_PREFIX=haas:
CACHE_QUOTA_PREFIX=quota:
CACHE_CONTEXT_PREFIX=context:

# =====================================================
# CONFIGURACIÓN DE NOTIFICACIONES
# =====================================================

# Email settings (para alertas)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@tuempresa.com
SMTP_PASSWORD=tu_password_smtp
SMTP_TLS=true

# Webhook URLs
WEBHOOK_SUCCESS_URL=https://hooks.slack.com/...
WEBHOOK_ERROR_URL=https://hooks.slack.com/...
WEBHOOK_ENABLED=false

# =====================================================
# CONFIGURACIÓN AVANZADA
# =====================================================

# Event Sourcing
EVENT_STORE_BATCH_SIZE=100
EVENT_STORE_FLUSH_INTERVAL=5

# DAG Generation
DAG_MAX_TASKS=50
DAG_MAX_DEPTH=10
DAG_OPTIMIZATION_ENABLED=true

# Prompt Engineering
PROMPT_OPTIMIZATION_LEVEL=standard  # basic, standard, advanced, premium
PROMPT_ALTERNATIVE_VERSIONS=3
PROMPT_ANALYSIS_ENABLED=true

# =====================================================
# VARIABLES DE ENTORNO DE EJEMPLO PARA APLICACIONES
# =====================================================

# Para Iris (Computer Vision)
IRIS_API_KEY=iris_api_key_ejemplo
IRIS_TENANT_ID=tenant_iris_v1
IRIS_QUOTA_REQUESTS_PER_HOUR=10000
IRIS_QUOTA_STORAGE_GB=100

# Para Silhouette (Design)
SILHOUETTE_API_KEY=silhouette_api_key_ejemplo
SILHOUETTE_TENANT_ID=tenant_silhouette_v1
SILHOUETTE_QUOTA_REQUESTS_PER_HOUR=5000
SILHOUETTE_QUOTA_STORAGE_GB=50

# Para NWC (Workflow)
NWC_API_KEY=nwc_api_key_ejemplo
NWC_TENANT_ID=tenant_nwc_v1
NWC_QUOTA_REQUESTS_PER_HOUR=15000
NWC_QUOTA_STORAGE_GB=200

# Para MedLuxe (Medical)
MEDLUXE_API_KEY=medluxe_api_key_ejemplo
MEDLUXE_TENANT_ID=tenant_medluxe_v1
MEDLUXE_QUOTA_REQUESTS_PER_HOUR=3000
MEDLUXE_QUOTA_STORAGE_GB=500

# Para Brandistry (Marketing)
BRANDISTRY_API_KEY=brandistry_api_key_ejemplo
BRANDISTRY_TENANT_ID=tenant_brandistry_v1
BRANDISTRY_QUOTA_REQUESTS_PER_HOUR=8000
BRANDISTRY_QUOTA_STORAGE_GB=80

# =====================================================
# CONFIGURACIÓN DE DOCKER
# =====================================================

# Docker image tags
API_GATEWAY_TAG=latest
ORCHESTRATOR_TAG=latest
PLANNER_TAG=latest
PROMPT_ENGINEER_TAG=latest

# Network configuration
NETWORK_NAME=haas_network
SUBNET=172.20.0.0/16

# =====================================================
# INSTRUCCIONES DE USO
# =====================================================

# 1. Copia este archivo como .env
#    cp .env.example .env

# 2. Edita las variables según tu entorno
#    nano .env

# 3. Configura las APIs de IA si las tienes
#    - OPENAI_API_KEY
#    - ANTHROPIC_API_KEY

# 4. Cambia todas las passwords en producción
#    - POSTGRES_PASSWORD
#    - REDIS_PASSWORD
#    - JWT_SECRET_KEY
#    - etc.

# 5. Levanta el sistema
#    docker-compose up -d

# =====================================================
# NOTAS DE SEGURIDAD
# =====================================================

# ⚠️ IMPORTANTE: Cambiar todas las passwords en producción
# ⚠️ IMPORTANTE: Configurar HTTPS en producción
# ⚠️ IMPORTANTE: Usar secrets management en producción
# ⚠️ IMPORTANTE: Configurar backups automáticos
# ⚠️ IMPORTANTE: Monitorear logs de seguridad
# ⚠️ IMPORTANTE: Configurar firewall apropiado
# ⚠️ IMPORTANTE: Usar variables de entorno en CI/CD
# ⚠️ IMPORTANTE: Rotar tokens y keys regularmente
# ⚠️ IMPORTANTE: Configurar alerting de seguridad
# ⚠️ IMPORTANTE: Audit regular de accesos
